---
/**
 * SocialAuthButtons - Social authentication buttons with divider
 *
 * @description
 * Displays social login/signup buttons for Google and GitHub with a divider line.
 * Supports both login and register variants with customizable text and URLs.
 * Buttons are displayed only when their respective URLs are provided.
 *
 * @example Default (shows both buttons with placeholder URLs)
 * ```astro
 * <SocialAuthButtons dividerText="Or continue with" />
 * ```
 *
 * @example Login variant
 * ```astro
 * <SocialAuthButtons 
 *   dividerText="Or continue with" 
 *   googleUrl="/auth/google"
 *   githubUrl="/auth/github"
 *   variant="login"
 * />
 * ```
 *
 * @example Register variant
 * ```astro
 * <SocialAuthButtons 
 *   dividerText="Or sign up with" 
 *   googleUrl="/auth/google"
 *   githubUrl="/auth/github"
 *   variant="register"
 * />
 * ```
 */
import { Icon } from 'astro-icon/components';

interface Props {
  /** Text to display in the divider */
  dividerText?: string;
  /** Google OAuth URL (shows button if provided or defaults to #) */
  googleUrl?: string;
  /** GitHub OAuth URL (shows button if provided or defaults to #) */
  githubUrl?: string;
  /** Variant for button styling/text */
  variant?: 'login' | 'register';
}

const {
  dividerText = 'Or continue with',
  googleUrl = '#',
  githubUrl = '#',
  variant = 'login',
} = Astro.props;

const googleLabel = variant === 'register' ? 'Sign up with Google' : 'Continue with Google';
const githubLabel = variant === 'register' ? 'Sign up with GitHub' : 'Continue with GitHub';
---

<div class="mt-6">
  <!-- Divider -->
  <div class="relative">
    <div class="absolute inset-0 flex items-center">
      <div class="w-full border-t border-border"></div>
    </div>
    <div class="relative flex justify-center text-sm">
      <span class="px-4 bg-surface text-text-muted">{dividerText}</span>
    </div>
  </div>

  <!-- Social buttons -->
  <div class="mt-6 grid grid-cols-2 gap-4">
    <a
      href={googleUrl}
      class="flex items-center justify-center gap-2 px-4 py-3 rounded-md border border-border bg-background text-text hover:bg-surface transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background"
      aria-label={googleLabel}
    >
      <Icon name="simple-icons:google" class="w-5 h-5" aria-hidden="true" />
      <span class="text-sm font-medium">Google</span>
    </a>
    <a
      href={githubUrl}
      class="flex items-center justify-center gap-2 px-4 py-3 rounded-md border border-border bg-background text-text hover:bg-surface transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-background"
      aria-label={githubLabel}
    >
      <Icon name="simple-icons:github" class="w-5 h-5" aria-hidden="true" />
      <span class="text-sm font-medium">GitHub</span>
    </a>
  </div>
</div>
